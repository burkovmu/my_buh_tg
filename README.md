# Финансовый учет - Telegram Mini App

Простое веб-приложение для учета доходов и расходов с возможностью интеграции в Telegram Mini App.

## Возможности

✅ **Добавление транзакций**
- Доходы и расходы
- Сумма в рублях
- Источник (от кого/на что)
- Комментарий (опционально)
- Автоматическая дата и время

✅ **Автоматические расчеты**
- Общий баланс
- Сумма доходов
- Сумма расходов

✅ **Управление данными**
- Фильтрация по типу транзакций
- Удаление транзакций
- Экспорт данных в JSON
- Импорт данных из JSON

✅ **Адаптивный дизайн**
- Оптимизирован для мобильных устройств
- Современный UI с анимациями
- Поддержка темной темы Telegram

## ⚠️ ВАЖНО: Настройка Supabase

**Без настройки Supabase ваши транзакции НЕ будут сохраняться при обновлении страницы!**

### Быстрая настройка:
1. **Создайте проект на [supabase.com](https://supabase.com)**
2. **Выполните SQL схему из `supabase-schema.sql`**
3. **Скопируйте URL и ANON KEY в файл `.env`**
4. **Перезапустите приложение**

Подробные инструкции в файле `SETUP.md`

## Установка и запуск

1. **Скачайте файлы проекта:**
   - `index.html` - главная страница
   - `styles.css` - стили и дизайн
   - `script.js` - логика приложения

2. **Настройте переменные окружения:**
   ```bash
   npm run setup-env
   # Отредактируйте .env файл с вашими данными Supabase
   ```

3. **Запустите локально:**
   ```bash
   npm run dev
   # Или откройте index.html в браузере
   ```

## Использование

### Добавление транзакции
1. Выберите тип: доход или расход
2. Введите сумму
3. Укажите источник (от кого пришли деньги или на что потратили)
4. Добавьте комментарий (необязательно)
5. Нажмите "Добавить"

### Фильтрация
- **Все** - показать все транзакции
- **Доходы** - только доходы
- **Расходы** - только расходы

### Экспорт/Импорт
- **Экспорт** - скачать все данные в JSON файл
- **Импорт** - загрузить данные из JSON файла

## Деплой на Vercel

Приложение готово для деплоя на Vercel:

1. **Подключите GitHub репозиторий к Vercel**
2. **Vercel автоматически определит настройки**
3. **Получите URL для вашего приложения**
4. **Настройте автоматический деплой при push в main**

### Быстрый деплой
```bash
# Установите Vercel CLI
npm i -g vercel

# Деплой из текущей директории
vercel

# Или деплой продакшн версии
vercel --prod
```

## Интеграция с Telegram Mini App

После деплоя на Vercel:

1. **Используйте полученный URL в настройках бота @BotFather**
2. **Пользователи смогут открыть приложение прямо в Telegram**
3. **Автоматические обновления при каждом push в main**

### Особенности для Telegram
- Автоматическое определение темы (светлая/темная)
- Адаптация под размер окна Telegram
- Оптимизированный интерфейс для мобильных устройств

## Структура данных

Каждая транзакция содержит:
```json
{
  "id": 1234567890,
  "type": "income|expense",
  "amount": 1000.00,
  "source": "Зарплата",
  "comment": "Аванс за январь",
  "date": "2024-01-15T10:30:00.000Z",
  "timestamp": 1234567890
}
```

## Технические детали

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Backend**: Supabase (PostgreSQL + Real-time)
- **Хранение**: Supabase база данных с синхронизацией по Telegram ID
- **Адаптивность**: CSS Grid, Flexbox, Media Queries
- **Иконки**: Font Awesome 6
- **Валидация**: HTML5 формы + JavaScript
- **Уведомления**: Встроенная система уведомлений
- **Синхронизация**: Real-time обновления между устройствами

## Совместимость

- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 12+
- ✅ Edge 79+
- ✅ Мобильные браузеры
- ✅ Telegram Web App

## Лицензия

Этот проект распространяется под лицензией MIT. Используйте свободно для личных и коммерческих целей.

## Поддержка

Если у вас есть вопросы или предложения по улучшению, создайте issue в репозитории проекта. 